!(function(a){a.base("base.module1",{init:function(b){this.sandbox=b;this._bindEvent();return this},_bindEvent:function(){var b=this;var c={msg:"send from Module1"};jquip("#sandboxBtn").bind("click",function(){b.sandbox.notify(perfmjs.app.config.events.DELETE,c)})},_fetchdata:function(){perfmjs.app.utility.getRPCJsonp(url,{data:"name=John&location=Boston",success:function(b){}})},_renderView:function(c,d){var b='<% for ( var i = 0; i < $data.length; i++ ) { %>				<dl>					<dt>						<a href="javascript:;">							<img alt="" src="<%= $data[i].src %>" width="100" />						</a>					</dt>					<dd class="title"><a href="javascript:;" title="<%= $data[i].title %>"><%= $data[i].title.cut(14,"...") %></a></dd>					<dd class="price"><span class="cny">ï¿¥</span> <em><%= $data[i].price.toFixed(2) %></em></dd>					<dd class="describe"><%= $util.trim($data[i].describe) %></dd>				</dl>				<% } %>';perfmjs.app.config.renderHTML(b,d,c)},end:0});a.base.module1.defaults={scope:"singleton",end:0}})(window);!(function(a){a.base("base.module2",{init:function(b){this.sandbox=b;this.createHTML();this.sandbox.on(perfmjs.app.config.events.DELETE,this.create);this.sandbox.on("perfmjs.ready",function(){perfmjs.logger.log("All modules are ready!")});return this},create:function(b){alert("Module2 got the message:"+b.msg)},createHTML:function(){},end:0});a.base.module2.defaults={scope:"singleton",end:0}})(window);!(function(a){a.base("base.module3",{init:function(b){this.sandbox=b;this.createHTML();this.sandbox.on(perfmjs.app.config.events.DELETE,this.create);this.sandbox.on("perfmjs.ready",function(){perfmjs.logger.log("All modules are ready222!")});return this},create:function(b){alert("Module3 got the message:"+b.msg)},createHTML:function(){},end:0});a.base.module3.defaults={scope:"singleton",end:0}})(window);!(function(a){a.base("base.lazyinitmodule",{init:function(b){this.sandbox=b;this.createHTML();return this},createHTML:function(){this.sandbox.notify("perfmjs.lazyload",{moduleId:"lazyloadmodule3"})},end:0});a.base.lazyinitmodule.defaults={scope:"singleton",end:0}})(window);!(function(a){perfmjs.utils.namespace("perfmjs.app.config");perfmjs.app.config.lazymodule={lazymodule1:{js:["/perfmjs/js/app2/lazyloadmodule1.js"],css:["http://s.no100.com/css/app/search/v4.0/core/example/lazyloadmodule1.css"]},lazymodule2:{combine1:{js:["/perfmjs/js/app2/lazyloadmodule2.js"],css:["http://s.no100.com/css/app/search/v4.0/core/example/lazyloadmodule21.css"]},combine2:{js:["/perfmjs/js/app2/lazyloadmodule2.js"],css:["http://s.no100.com/css/app/search/v4.0/core/example/lazyloadmodule22.css"]},combine3:{js:["/perfmjs/js/app2/lazyloadmodule2.js"],css:["http://s.no100.com/css/app/search/v4.0/core/example/lazyloadmodule33.css"]}},lazymodule3:{js:["/perfmjs/js/app2/lazyloadmodule3.js"],css:["http://s.no100.com/css/app/search/v4.0/core/example/lazyloadmodule3.css"]},bigrender1:{combine1:{js:["/perfmjs/js/app2/bigrender1.js"],css:["http://s.no100.com/css/app/search/v4.0/core/example/bigrender1.css"]}},end:0};perfmjs.app.config.events={DELETE:"module1/delete",end:0}})(window);!(function(a){a.base("base.start",{init:function(){app.newInstance();this.firstViewModuleInit();this.lazyLoadModuleInit();this.lazyInitModuleInit();return this},firstViewModuleInit:function(){app.instance.register("module1","module1");app.instance.register("module2","module2",{callback:function(){}});app.instance.register("module3","module3");app.instance.startAll()},lazyLoadModuleInit:function(){app.instance.lazyRegister("lazyloadmodule1","lazyloadmodule1",jquip(".domDetail"),"exposure",{threshold:200,module:this.options.lazyurl.lazymodule1});app.instance.lazyRegister("lazyloadmodule2","lazyloadmodule2","#lazyloadmodule2","mouseover",{module:this.options.lazyurl.lazymodule2});app.instance.lazyRegister("lazyloadmodule3","lazyloadmodule3",null,"manual",{module:this.options.lazyurl.lazymodule3});app.instance.lazyRegister("bigrender1","bigrender1","#bigrender1","exposure",{threshold:200,module:this.options.lazyurl.bigrender1})},lazyInitModuleInit:function(){app.instance.lazyRegister("lazyinitmodule","lazyinitmodule","#delayInitBtn","click");app.instance.lazyRegister("mod-search-lazyinit2",null,jquip("#content img[lazyload-src]"),"exposure",{keep:true,callback:function(b){src=jquip(b).attr("lazyload-src");if(src){jquip(b).attr("src",src);jquip(b).removeAttr("lazyload-src")}}})},end:0},a.base.prototype,a.base.defaults);a.base.start.defaults={lazyurl:perfmjs.app.config.lazymodule,scope:"singleton",end:0};perfmjs.loadres.ready(function(){start.newInstance()})})(window);